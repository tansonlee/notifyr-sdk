{"code":"import { __awaiter, __generator } from \"tslib\";\r\nimport * as React from 'react';\r\nimport { authenticate } from '../lib/authenticate';\r\nimport { authFetchUser } from '../lib/authFetch';\r\nimport { IoMdNotificationsOutline } from 'react-icons/io';\r\nexport var NotificationMenu = function (_a) {\r\n    var apiKey = _a.apiKey, groupId = _a.groupId, children = _a.children;\r\n    var _b = React.useState([]), notifications = _b[0], setNotifications = _b[1];\r\n    React.useEffect(function () {\r\n        (function () { return __awaiter(void 0, void 0, void 0, function () {\r\n            var _a, notifications, errors;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0: return [4 /*yield*/, authenticate(apiKey)];\r\n                    case 1:\r\n                        _b.sent();\r\n                        return [4 /*yield*/, authFetchUser({\r\n                                endpoint: \"http://localhost:3001/api/notification/get-notifications?groupId=\".concat(groupId),\r\n                                method: 'GET',\r\n                            })];\r\n                    case 2:\r\n                        _a = _b.sent(), notifications = _a.notifications, errors = _a.errors;\r\n                        if (errors) {\r\n                            console.error(errors);\r\n                            return [2 /*return*/];\r\n                        }\r\n                        console.log({ notifications: notifications });\r\n                        setNotifications(notifications);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        }); })();\r\n    }, []);\r\n    return (React.createElement(\"div\", { className: 'notification-menu-wrapper' },\r\n        children ? children : React.createElement(NotificationIcon, null),\r\n        React.createElement(\"p\", null, apiKey),\r\n        React.createElement(\"p\", null, \"Notifications are\"),\r\n        notifications.map(function (notification) { return (React.createElement(\"div\", { key: notification.id },\r\n            React.createElement(\"p\", null, notification.title),\r\n            React.createElement(\"p\", null, notification.body))); })));\r\n};\r\nvar NotificationIcon = function () {\r\n    return (React.createElement(\"div\", { className: 'notification-icon-wrapper' },\r\n        React.createElement(IoMdNotificationsOutline, null)));\r\n};\r\n//# sourceMappingURL=NotificationMenu.js.map","references":["/Users/tansonlee/coding/notifyr/notifyr-sdk/node_modules/@types/react/index.d.ts","/Users/tansonlee/coding/notifyr/notifyr-sdk/src/lib/authenticate.ts","/Users/tansonlee/coding/notifyr/notifyr-sdk/src/lib/authFetch.ts","/Users/tansonlee/coding/notifyr/notifyr-sdk/node_modules/react-icons/io/index.d.ts"],"map":"{\"version\":3,\"file\":\"NotificationMenu.js\",\"sourceRoot\":\"\",\"sources\":[\"../../../../../src/components/NotificationMenu.tsx\"],\"names\":[],\"mappings\":\";AAAA,OAAO,KAAK,KAAK,MAAM,OAAO,CAAC;AAC/B,OAAO,EAAE,YAAY,EAAE,MAAM,qBAAqB,CAAC;AACnD,OAAO,EAAE,aAAa,EAAE,MAAM,kBAAkB,CAAC;AACjD,OAAO,EAAE,wBAAwB,EAAE,MAAM,gBAAgB,CAAC;AAE1D,MAAM,CAAC,IAAM,gBAAgB,GAAG,UAAC,EAQhC;QAPA,MAAM,YAAA,EACN,OAAO,aAAA,EACP,QAAQ,cAAA;IAMF,IAAA,KAAoC,KAAK,CAAC,QAAQ,CAAW,EAAE,CAAC,EAA/D,aAAa,QAAA,EAAE,gBAAgB,QAAgC,CAAC;IAEvE,KAAK,CAAC,SAAS,CAAC;QACf,CAAC;;;;4BACA,qBAAM,YAAY,CAAC,MAAM,CAAC,EAAA;;wBAA1B,SAA0B,CAAC;wBAEO,qBAAM,aAAa,CAAC;gCACrD,QAAQ,EAAE,2EAAoE,OAAO,CAAE;gCACvF,MAAM,EAAE,KAAK;6BACb,CAAC,EAAA;;wBAHI,KAA4B,SAGhC,EAHM,aAAa,mBAAA,EAAE,MAAM,YAAA;wBAI7B,IAAI,MAAM,EAAE;4BACX,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;4BACtB,sBAAO;yBACP;wBAED,OAAO,CAAC,GAAG,CAAC,EAAE,aAAa,eAAA,EAAE,CAAC,CAAC;wBAC/B,gBAAgB,CAAC,aAAa,CAAC,CAAC;;;;aAChC,CAAC,EAAE,CAAC;IACN,CAAC,EAAE,EAAE,CAAC,CAAC;IAEP,OAAO,CACN,6BAAK,SAAS,EAAC,2BAA2B;QACxC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,oBAAC,gBAAgB,OAAG;QAC3C,+BAAI,MAAM,CAAK;QACf,mDAAwB;QACvB,aAAa,CAAC,GAAG,CAAC,UAAC,YAAiB,IAAK,OAAA,CACzC,6BAAK,GAAG,EAAE,YAAY,CAAC,EAAE;YACxB,+BAAI,YAAY,CAAC,KAAK,CAAK;YAC3B,+BAAI,YAAY,CAAC,IAAI,CAAK,CACrB,CACN,EALyC,CAKzC,CAAC,CACG,CACN,CAAC;AACH,CAAC,CAAC;AAEF,IAAM,gBAAgB,GAAG;IACxB,OAAO,CACN,6BAAK,SAAS,EAAC,2BAA2B;QACzC,oBAAC,wBAAwB,OAAG,CACvB,CACN,CAAC;AACH,CAAC,CAAC\"}","dts":{"name":"/Users/tansonlee/coding/notifyr/notifyr-sdk/node_modules/.cache/rollup-plugin-typescript2/placeholder/components/NotificationMenu.d.ts","writeByteOrderMark":false,"text":"/// <reference types=\"react\" />\r\nexport declare const NotificationMenu: ({ apiKey, groupId, children, }: {\r\n    apiKey: string;\r\n    groupId: string;\r\n    children?: JSX.Element | undefined;\r\n}) => JSX.Element;\r\n"}}
